<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BDR Stats</title>
    <link rel="stylesheet" href="style.css">
    <!-- Include Handlebars library via CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.8/handlebars.min.js"></script>
</head>
<body>
<div id="top">
    <div id="top-content">
        <div id="top-content-layout">
            <div id="top-header">
                <div id="logo">
                    <img src="images/dcceew-logo.svg" alt="D.C.C.E.E.W. Logo">
                </div>
                <div id="title">
                    <h1>Biodiversity Data Repository<br>
                    <small>Statistics Viewer</small>
                    </h1>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="main-nav">
    <a href="http://bdrtesting.net">BDR Homepage</a>
    <a href="http://stats.bdrtesting.net">BDR Stats</a>
    <a href="https://abis.dev.kurrawong.ai">ABIS Portal</a>
</div>
<div id="content">
    <h1 class="text-4xl pb-4">BDR Stats</h1>
    <section style="min-width:500px; max-width: 40%">
        <h3>About</h3>
        <p>
            This web page contains statistics about data within <a href="https://bdrtesting.net" class="">Biodiversity
            Data Repository (BDR)</a> managed by the <a href="https://www.dcceew.gov.au">Department of Climate Change,
            Energy, the Environment and Water (DCCEEW)</a>.
        </p>
        <p>
            For any BDR-specific questions, please contact:
        </p>
        <p style="margin-left:100px;">
            <strong>BDR Team</strong><br/>
            <a href="mailto:bdr@dcceew.gov.au">bdr@dcceew.gov.au</a>
        </p>
    </section>
    <section>
        <h3>BDR Statistics <span id="totalsLastUpdatedTime" style="font-style: italic;"></span></h3>
        <table id="totals">
            <thead>
            <tr>
                <th>Category</th>
                <th>Total Count</th>
            </tr>
            </thead>
            <tbody id="totals-template-target">
            <!-- Totals stats rows will be populated here by the JavaScript -->
            </tbody>
        </table>
    </section>
    <script id="totals-template" type="text/x-handlebars-template">
        {{#each items}}
        <tr>
            <td>{{category}}</td>
            <td>{{totalCount}}</td>
        </tr>
        {{/each}}
    </script>
    <section>
        <h3>Dataset Statistics <span id="statsLastUpdatedTime" style="font-style: italic;"></span></h3>
        <table id="stats">
            <thead>
            <tr>
                <th>Dataset</th>
                <th>RDF Datasets</th>
                <th>Samples</th>
                <th>Samplings</th>
                <th>Observations</th>
                <th onclick="sortColumn('stats', 4)" class="sortable">Load Date</th>
            </tr>
            </thead>
            <tbody id="stats-template-target">
            <!-- Dataset stats rows will be populated here by the JavaScript -->
            </tbody>
        </table>
    </section>
    <script id="stats-template" type="text/x-handlebars-template">
        {{#each items}}
        <tr>
            <td><a href="{{datasetUri}}" target="_blank">{{datasetLabel}}</a></td>
            <td>{{rdfDatasets}}</td>
            <td>{{samples}}</td>
            <td>{{samplings}}</td>
            <td>{{observations}}</td>
            <td style="white-space: nowrap;">{{dateCreated}}</td>
        </tr>
        {{/each}}
    </script>
</div>
<footer>
    <!-- Your footer content -->
</footer>

<script src="index.js"></script>
</body>
</html>
